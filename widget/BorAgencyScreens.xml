<?xml version="1.0" encoding="UTF-8"?>
<screens xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://ofbiz.apache.org/Widget-Screen"
	xsi:schemaLocation="http://ofbiz.apache.org/Widget-Screen http://ofbiz.apache.org/dtds/widget-screen.xsd">

	<screen name="main">
		<section>
			<actions>
				<set field="headerItem" value="main" /><!-- this highlights the selected menu-item with name "main" -->
			</actions>
			<widgets>
				<decorator-screen name="BorAgencyCommonDecorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="FindContractors">
		<section>
			<actions>
				<set field="titleProperty" value="FindContractor" />
				<set field="headerItem" value="findcontractors" />

				<set field="formShippingListName" value="${groovy: return 'ListContractors';}" />
				<!-- <script location="component://vforder/groovyScripts/FindShipping.groovy" /> -->

				<!-- asmselect parameters, must be prefixed by asm_ for SetMultipleSelectJs.ftl -->

			</actions>
			<widgets>
				<decorator-screen name="BorAgencyCommonDecorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
							<widgets>
								<decorator-screen name="FindScreenDecorator" location="component://common/widget/CommonScreens.xml">
									<decorator-section name="menu-bar">
										<container style="button-bar">
											<link target="EditContractorLayer" link-type="layered-modal" text="${uiLabelMap.NewCommon}"
												style="buttontext create" />
										</container>
									</decorator-section>
									<decorator-section name="search-options">
										<include-form name="FindContractors" location="component://borAgency/widget/BorAgencyForms.xml" />
									</decorator-section>
									<decorator-section name="search-results">
										<include-form name="${formShippingListName}" location="component://borAgency/widget/BorAgencyForms.xml" />
									</decorator-section>
								</decorator-screen>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="EditContractorLayer">
		<section>
			<actions>
				<property-map resource="BorAgencyUiLabels" map-name="uiLabelMap" global="true" />
				<property-map resource="CommonUiLabels" map-name="uiLabelMap" global="true" />
				<set field="titleProperty" value="PageTitleEditShipping" />
				<set field="tabButtonItem" value="findcontractors" />
				<set field="contractorId" from-field="parameters.contractorId" />
				<entity-one entity-name="BorContractor" value-field="contractor" />
			</actions>
			<widgets>
				<include-form name="EditContractor" location="component://borAgency/widget/BorAgencyForms.xml" />
			</widgets>
		</section>
	</screen>

	<screen name="EditContractor">
		<section>
			<actions>
				<set field="titleProperty" value="FindContractor" />
				<set field="headerItem" value="findcontractors" />
				<set field="contractorId" from-field="parameters.contractorId" />
				<!-- <set field="workpapersId" from-field="parameters.workpapersId" /> -->
				<entity-one entity-name="BorContractor" value-field="contractor" />
			</actions>
			<widgets>
				<decorator-screen name="BorAgencyCommonDecorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<screenlet title="${uiLabelMap.EditContractor}">
							<include-form name="EditContractor" location="component://borAgency/widget/BorAgencyForms.xml" />
						</screenlet>

					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>



	<screen name="FindClients">
		<section>
			<actions>
				<set field="titleProperty" value="FindClient" />
				<set field="headerItem" value="findclients" />

				<set field="formShippingListName" value="${groovy: return 'ListClients';}" />
				<!-- <script location="component://vforder/groovyScripts/FindShipping.groovy" /> -->

				<!-- asmselect parameters, must be prefixed by asm_ for SetMultipleSelectJs.ftl -->

			</actions>
			<widgets>
				<decorator-screen name="BorAgencyCommonDecorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
							<widgets>
								<decorator-screen name="FindScreenDecorator" location="component://common/widget/CommonScreens.xml">
									<decorator-section name="menu-bar">
										<container style="button-bar">
											<link target="EditClientLayer" link-type="layered-modal" text="${uiLabelMap.NewCommon}" style="buttontext create" />
										</container>
									</decorator-section>
									<decorator-section name="search-options">
										<include-form name="FindClients" location="component://borAgency/widget/BorAgencyForms.xml" />
									</decorator-section>
									<decorator-section name="search-results">
										<include-form name="${formShippingListName}" location="component://borAgency/widget/BorAgencyForms.xml" />
									</decorator-section>
								</decorator-screen>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="EditClientLayer">
		<section>
			<actions>
				<property-map resource="BorAgencyUiLabels" map-name="uiLabelMap" global="true" />
				<property-map resource="CommonUiLabels" map-name="uiLabelMap" global="true" />
				<set field="titleProperty" value="PageTitleEditShipping" />
				<set field="tabButtonItem" value="findclients" />
				<set field="clientId" from-field="parameters.clientId" />
				<entity-one entity-name="BorClient" value-field="client" />
			</actions>
			<widgets>
				<include-form name="EditClient" location="component://borAgency/widget/BorAgencyForms.xml" />
			</widgets>
		</section>
	</screen>

	<screen name="EditClient">
		<section>
			<actions>
				<set field="titleProperty" value="FindClient" />
				<set field="headerItem" value="findclients" />
				<set field="clientId" from-field="parameters.clientId" />
				<!-- <set field="workpapersId" from-field="parameters.workpapersId" /> -->
				<entity-one entity-name="BorClient" value-field="client" />
			</actions>
			<widgets>
				<decorator-screen name="BorAgencyCommonDecorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">

						<screenlet title="${uiLabelMap.EditClient}">
							<include-form name="EditClient" location="component://borAgency/widget/BorAgencyForms.xml" />
						</screenlet>

					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>


	<screen name="FindProducts">
		<section>
			<actions>
				<set field="titleProperty" value="FindProduct" />
				<set field="headerItem" value="findProducts" />

				<set field="formShippingListName" value="${groovy: return 'ListProducts';}" />
				<!-- <script location="component://vforder/groovyScripts/FindShipping.groovy" /> -->

				<!-- asmselect parameters, must be prefixed by asm_ for SetMultipleSelectJs.ftl -->

			</actions>
			<widgets>
				<decorator-screen name="BorAgencyCommonDecorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
							<widgets>
								<decorator-screen name="FindScreenDecorator" location="component://common/widget/CommonScreens.xml">
									<decorator-section name="menu-bar">
										<container style="button-bar">
											<link target="EditProductLayer" link-type="layered-modal" text="${uiLabelMap.NewCommon}" style="buttontext create" />
										</container>
									</decorator-section>
									<decorator-section name="search-options">
										<include-form name="FindProducts" location="component://borAgency/widget/BorAgencyForms.xml" />
									</decorator-section>
									<decorator-section name="search-results">
										<include-form name="${formShippingListName}" location="component://borAgency/widget/BorAgencyForms.xml" />
									</decorator-section>
								</decorator-screen>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="EditProductLayer">
		<section>
			<actions>
				<property-map resource="BorAgencyUiLabels" map-name="uiLabelMap" global="true" />
				<property-map resource="CommonUiLabels" map-name="uiLabelMap" global="true" />
				<set field="titleProperty" value="PageTitleEditShipping" />
				<set field="tabButtonItem" value="findProducts" />
				<set field="ProductId" from-field="parameters.ProductId" />
				<entity-one entity-name="BorProduct" value-field="Product" />
			</actions>
			<widgets>
				<include-form name="EditProduct" location="component://borAgency/widget/BorAgencyForms.xml" />
			</widgets>
		</section>
	</screen>

	<screen name="EditProduct">
		<section>
			<actions>
				<set field="titleProperty" value="FindProduct" />
				<set field="headerItem" value="findProducts" />
				<set field="productId" from-field="parameters.productId" />
				<!-- <set field="workpapersId" from-field="parameters.workpapersId" /> -->
				<entity-one entity-name="BorProduct" value-field="Product" />
			</actions>
			<widgets>
				<decorator-screen name="BorAgencyCommonDecorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">

						<screenlet title="${uiLabelMap.EditProduct}">
							<include-form name="EditProduct" location="component://borAgency/widget/BorAgencyForms.xml" />
						</screenlet>

					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="FindPriceLists">
		<section>
			<actions>
				<set field="titleProperty" value="FindPriceList" />
				<set field="headerItem" value="findPriceLists" />


				<set field="formShippingListName" value="${groovy: return 'ListPriceLists';}" />
				<!-- <script location="component://vforder/groovyScripts/FindShipping.groovy" /> -->

				<!-- asmselect parameters, must be prefixed by asm_ for SetMultipleSelectJs.ftl -->

			</actions>
			<widgets>
				<decorator-screen name="BorAgencyCommonDecorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
							<widgets>
								<decorator-screen name="FindScreenDecorator" location="component://common/widget/CommonScreens.xml">
									<decorator-section name="menu-bar">
										<container style="button-bar">
											<link target="EditPriceListLayer" link-type="layered-modal" text="${uiLabelMap.NewCommon}"
												style="buttontext create" />
										</container>
									</decorator-section>
									<decorator-section name="search-options">
										<include-form name="FindPriceLists" location="component://borAgency/widget/BorAgencyForms.xml" />
									</decorator-section>
									<decorator-section name="search-results">
										<include-form name="${formShippingListName}" location="component://borAgency/widget/BorAgencyForms.xml" />
									</decorator-section>
								</decorator-screen>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="EditPriceListLayer">
		<section>
			<actions>
				<property-map resource="BorAgencyUiLabels" map-name="uiLabelMap" global="true" />
				<property-map resource="CommonUiLabels" map-name="uiLabelMap" global="true" />
				<set field="titleProperty" value="PageTitleEditShipping" />
				<set field="tabButtonItem" value="findPriceLists" />
				<set field="PriceListId" from-field="parameters.PriceListId" />
				<entity-one entity-name="BorPriceList" value-field="PriceList" />
			</actions>
			<widgets>
				<include-form name="EditPriceList" location="component://borAgency/widget/BorAgencyForms.xml" />
			</widgets>
		</section>
	</screen>

	<screen name="EditPriceList">
		<section>
			<actions>
				<set field="titleProperty" value="EditPriceList" />
				<set field="headerItem" value="findPriceLists" />
				<set field="pricelistId" from-field="parameters.pricelistId" />
				<!-- <set field="workpapersId" from-field="parameters.workpapersId" /> -->
				<set field="tabButtonItem" value="EditPriceList" />
				<entity-one entity-name="BorPriceList" value-field="PriceList" />
				<set field="contractorId" from-field="PriceList.contractorId" />
			</actions>
			<widgets>
				<decorator-screen name="BorAgencyCommonDecorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
							<condition>
								<and>
									<not>
										<if-empty field="PriceList" />
									</not><!-- This is a check useful when only seed data are loaded -->
								</and>
							</condition>
							<widgets>
								<include-menu name="EditPriceList" location="component://borAgency/widget/BorAgencyMenus.xml" />
							</widgets>
						</section>
						<section>
							<widgets>
								<screenlet title="${uiLabelMap.EditPriceList}">
									<include-form name="EditPriceList" location="component://borAgency/widget/BorAgencyForms.xml" />
								</screenlet>
							</widgets>
						</section>

					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="EditPriceListDetail">
		<section>
			<actions>
				<set field="titleProperty" value="EditPriceListDetail" />
				<set field="headerItem" value="findPriceLists" />
				<set field="pricelistId" from-field="parameters.pricelistId" />
				<!-- <set field="workpapersId" from-field="parameters.workpapersId" /> -->
				<set field="tabButtonItem" value="EditPriceListDetail" />
				<entity-one entity-name="BorPriceListDetail" value-field="PriceListDetail" />
				<entity-one entity-name="BorPriceList" value-field="PriceList" />
				<set field="contractorId" from-field="PriceList.contractorId" />
			</actions>
			<widgets>
				<decorator-screen name="BorAgencyCommonDecorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>

							<widgets>
								<include-menu name="EditPriceList" location="component://borAgency/widget/BorAgencyMenus.xml" />
							</widgets>
						</section>
						<section>
							<widgets>
								<screenlet title="${uiLabelMap.PriceList}">
									<include-form name="ListPriceListDetails" location="component://borAgency/widget/BorAgencyForms.xml" />
									<include-form name="AddPriceListDetails" location="component://borAgency/widget/BorAgencyForms.xml" />
								</screenlet>
							</widgets>
						</section>

					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="FindContracts">
		<section>
			<actions>
				<set field="titleProperty" value="FindContract" />
				<set field="headerItem" value="findContracts" />

				<set field="formShippingListName" value="${groovy: return 'ListContracts';}" />
				<!-- <script location="component://vforder/groovyScripts/FindShipping.groovy" /> -->

				<!-- asmselect parameters, must be prefixed by asm_ for SetMultipleSelectJs.ftl -->

			</actions>
			<widgets>
				<decorator-screen name="BorAgencyCommonDecorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
							<widgets>
								<decorator-screen name="FindScreenDecorator" location="component://common/widget/CommonScreens.xml">
									<decorator-section name="menu-bar">
										<container style="button-bar">
											<link target="EditContractLayer" link-type="layered-modal" text="${uiLabelMap.NewCommon}"
												style="buttontext create" />
										</container>
									</decorator-section>
									<decorator-section name="search-options">
										<include-form name="FindContracts" location="component://borAgency/widget/BorAgencyForms.xml" />
									</decorator-section>
									<decorator-section name="search-results">
										<include-form name="${formShippingListName}" location="component://borAgency/widget/BorAgencyForms.xml" />
									</decorator-section>
								</decorator-screen>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="EditContractLayer">
		<section>
			<actions>
				<property-map resource="BorAgencyUiLabels" map-name="uiLabelMap" global="true" />
				<property-map resource="CommonUiLabels" map-name="uiLabelMap" global="true" />
				<set field="titleProperty" value="PageTitleEditShipping" />
				<set field="tabButtonItem" value="findContracts" />
				<set field="ContractId" from-field="parameters.ContractId" />
				<entity-one entity-name="BorContract" value-field="Contract" />
			</actions>
			<widgets>
				<include-form name="EditContract" location="component://borAgency/widget/BorAgencyForms.xml" />
			</widgets>
		</section>
	</screen>

	<screen name="EditContract">
		<section>
			<actions>
				<set field="titleProperty" value="FindContract" />
				<set field="headerItem" value="findContracts" />
				<set field="contractId" from-field="parameters.contractId" />
				<!-- <set field="workpapersId" from-field="parameters.workpapersId" /> -->
				<entity-one entity-name="BorContract" value-field="Contract" />
			</actions>
			<widgets>
				<decorator-screen name="BorAgencyCommonDecorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
							<condition>
								<and>
									<not>
										<if-empty field="Contract" />
									</not><!-- This is a check useful when only seed data are loaded -->
								</and>
							</condition>
							<widgets>
								<include-menu name="EditContract" location="component://borAgency/widget/BorAgencyMenus.xml" />
							</widgets>
						</section>

						<screenlet title="${uiLabelMap.EditContract}">
							<include-form name="EditContract" location="component://borAgency/widget/BorAgencyForms.xml" />
						</screenlet>

					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="EditContractDetail">
		<section>
			<actions>
				<set field="titleProperty" value="EditContractDetail" />
				<set field="headerItem" value="findContracts" />
				<set field="contractId" from-field="parameters.contractId" />
				<!-- <set field="workpapersId" from-field="parameters.workpapersId" /> -->
				<set field="tabButtonItem" value="EditContractDetail" />
				<entity-one entity-name="BorContractDetail" value-field="ContractDetail" />
				<entity-one entity-name="BorContract" value-field="Contract" />
				<set field="contractorId" from-field="Contract.contractorId" />
			</actions>
			<widgets>
				<decorator-screen name="BorAgencyCommonDecorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>

							<widgets>
								<include-menu name="EditContract" location="component://borAgency/widget/BorAgencyMenus.xml" />
							</widgets>
						</section>
						<section>
							<widgets>
								<screenlet title="${uiLabelMap.EditContract}">
									<include-form name="ListContractDetails" location="component://borAgency/widget/BorAgencyForms.xml" />
									<include-form name="AddContractDetails" location="component://borAgency/widget/BorAgencyForms.xml" />
								</screenlet>
							</widgets>
						</section>

					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>


	<screen name="FindConditions">
		<section>
			<actions>
				<set field="filcontractorId" from-field="parameters.filcontractorId" />
				<set field="filproductId" from-field="parameters.filproductId" />
				<set field="headerItem" value="findConditions" />
				<set field="viewSize" from-field="parameters.VIEW_SIZE_1" type="Integer" default-value="200" />
				<script location="component://borAgency/groovyScripts/ListConditions.groovy" /> 
			</actions>
			<widgets>
				<decorator-screen name="BorAgencyCommonDecorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<!-- <container style="button-bar"> <link target="ShipmentsReportPdf" text="${uiLabelMap.CommonPdf}" style="buttontext create" 
							target-window="_blank"> <parameter param-name="fromDate" /> <parameter param-name="thruDate" /> </link> </container> -->
						<screenlet title="${uiLabelMap.Filter}">
							<include-form name="FilterConditions" location="component://borAgency/widget/BorAgencyForms.xml" />
						</screenlet>
						<screenlet title="${uiLabelMap.Conditions}">
							<include-form name="ListConditions" location="component://borAgency/widget/BorAgencyForms.xml" />
						</screenlet>
						<screenlet title="${uiLabelMap.AddCondition}">
							<include-form name="AddCondition" location="component://borAgency/widget/BorAgencyForms.xml" />
						</screenlet>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>


</screens>